<?xml version="1.0" encoding="UTF-8"?>
<!--
To cha<?nge this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"     
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:icecore="http://www.icefaces.org/icefaces/core"
      xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:ice="http://www.icesoft.com/icefaces/component">
    <ui:insert name="PanelParametrizacion">

        <ace:panel header="Servicios"  style="width: 100%" styleClass="thtablaFormulario" >
            <h:panelGrid columns="2">
                <h:outputText value="Estado"/>
                <ace:checkboxButton value="#{parametrizacionJSFBean.blnSrvEst}"
                                    valueChangeListener="#{parametrizacionJSFBean.filtrarXEstado_VCE}">
                    <ace:ajax execute="@this" render="@form"/>
                </ace:checkboxButton>
            </h:panelGrid>
            <table class="tablaFormulario"  border="1" bordercolor="F7B409">
                <tr><th  class="thtablaFormulario" colspan="2"> Servicios </th></tr>
                <tr>
                    <td style="width: 100%">
                        <div style="width: 100%">
                            <ace:dataTable value="#{parametrizacionJSFBean.lstServicios}"
                                           var="itemInv"
                                           rows="20"
                                           id="tablaColw"
                                           alwaysExecuteContents="true"
                                           paginator="true"
                                           emptyMessage="No se encontraron datos"
                                           paginatorPosition="bottom"
                                           paginatorAlwaysVisible="true"
                                           paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                           currentPageReportTemplate="({startRecord} - {endRecord} de {totalRecords}, Página: {currentPage}/{totalPages})">



                                <ace:column headerText="Abrir" >       
                                    <h:commandButton styleClass="btnSeleccionOpen"
                                                     title="Abrir Servicio"
                                                     actionListener="#{parametrizacionJSFBean.rowDtServicio_ActionEvent}">
                                        <f:attribute name="servicio" value="#{itemInv}"/>
                                        <f:ajax execute="@this" render="@all" />
                                    </h:commandButton>
                                </ace:column>
                                <ace:column id="exp">
                                    <ace:expansionToggler />
                                </ace:column>
                                <ace:column headerText="ID"  sortBy="#{itemInv.vsrvId}"
                                            filterBy="#{itemInv.vsrvId}" filterMatchMode="contains" >
                                    <h:outputText value="#{itemInv.vsrvId}"

                                                  styleClass="textcolumnjustify letraOutput"/>

                                </ace:column>


                                <ace:column headerText="Nombre"  sortBy="#{itemInv.vsrvNombre}"
                                            filterBy="#{itemInv.vsrvNombre}" filterMatchMode="contains" >
                                    <h:outputText value="#{itemInv.vsrvNombre}"
                                                  styleClass="textcolumleft letraOutput"/>
                                </ace:column>
                                <!--                                <ace:column headerText="Descripción" >
                                                                    <h:outputText value="#{itemInv.vsrvDesc}"
                                                                                  styleClass="textcolumleft letraOutput"/>
                                                                </ace:column>-->

                                <ace:panelExpansion>
                                    <h:outputText id="costPerLbTxt" value="Descripción: " />

                                    <h:outputText id="costPerLb" value="#{itemInv.vsrvDesc}">

                                    </h:outputText>
                                </ace:panelExpansion>



                                <ace:column  id="name" headerText="Tipo" 
                                             filterBy="#{itemInv.tsrvId.tsrvNombre}" >
                                    <h:outputText id="nameCell" value="#{itemInv.tsrvId.tsrvNombre}"/>
                                </ace:column>


              


                                <ace:column headerText="Estado" >
                                    <h:outputText value="#{(itemInv.vsrvEst ? 'Activo' : 'Inactivo')}"
                                                  styleClass="textcolumleft letraOutput"/>
                                </ace:column>               

                                <ace:column headerText="valor a cliente ($)" style="width: 100px">
                                    <h:outputText value="#{itemInv.vsrvValunitcliente}"
                                                  styleClass="textcolumright letraOutput">
                                        <f:convertNumber pattern="#0.00"/>
                                        <f:convertNumber groupingUsed="true"/>
                                    </h:outputText>
                                </ace:column>   

                            </ace:dataTable>
                        </div>
                    </td>
                </tr>
            </table>
            <br></br>

        </ace:panel>



    </ui:insert>    
</html>
