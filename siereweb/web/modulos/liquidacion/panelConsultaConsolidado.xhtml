<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"     
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:ace="http://www.icefaces.org/icefaces/components">
    <ui:insert name="viewConsolidadoLiquidaciones">
        <ace:panel header="Liquidaciones"  style="width: 100%" styleClass="thtablaFormulario" >


            <table class="tablaFormulario"  border="1" bordercolor="F7B409">
                <tr><th  class="thtablaFormulario" > Planillas Generadas</th></tr>

                <tr>
                    <td style="width: 100%">
                        <ace:dataTable value="#{liquidacionJSFBean.listaConsolidadoLiquidacion}" 
                                       style="font-size: large"
                                       var="itemLgt"
                                       paginator="true"
                                       alwaysExecuteContents="true"
                                       id="tablaPagows"

                                       paginatorAlwaysVisible="true"
                                       rows="30"
                                       emptyMessage="No se encontraron datos"
                                       paginatorPosition="bottom"
                                       paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"                                   
                                       currentPageReportTemplate="(Tareas: {startRecord} - {endRecord} de {totalRecords}, PÃ¡gina: {currentPage}/{totalPages})">


                             <ace:column headerText="Numero Planilla" 

                                        style="width: 200px;"
                                        >
                                 <h:outputText value="#{itemLgt.liquidacionconsolidado.idLiquidaconso}" styleClass="textcolumncenter letraOutput">
                                   
                                </h:outputText>

                            </ace:column>

                            <ace:column headerText="Nomina" 


                                        >
                                
                                
                                
                                <h:commandLink  value="#{itemLgt.liquidacionconsolidado.nombreLiquidaconso}" actionListener="#{liquidacionJSFBean.generarReporteConsolidadoPorItem}"
                                                immediate="true" 
                                                >

                                    <f:attribute name="tablaConsolidado" value="#{itemLgt}" />
                                    <f:ajax execute="@this" render="@form"/>
                                </h:commandLink> 


                            </ace:column>
                            <ace:column headerText="Reporte" 



                                        >

                                <ice:outputResource resource="#{itemLgt.jasperResourcePDF}"
                                                    
                                                    mimeType="application/pdf"
                                                    fileName="#{itemLgt.nameFile}.pdf"
                                                    shared="false"
                                                    label=" "
                                                    type="button"
                                                    styleClass="btnInformePDF">

                                </ice:outputResource>

                            </ace:column>
                            <ace:column headerText="Fecha Proceso" 

                                        style="width: 200px;"
                                        >
                                <h:outputText value="#{itemLgt.liquidacionconsolidado.fechapLiquidaconso}" styleClass="textcolumncenter letraOutput">
                                    <f:convertDateTime pattern="yyyy/MM/dd" />
                                </h:outputText>

                            </ace:column>
                            <ace:column headerText="Fecha Inicial" 

                                        style="width: 200px;"
                                        >
                                <h:outputText value="#{itemLgt.liquidacionconsolidado.fechaiLiquidaconso}" styleClass="textcolumncenter letraOutput">
                                    <f:convertDateTime pattern="yyyy/MM/dd" />
                                </h:outputText>

                            </ace:column>
                            <ace:column headerText="Fecha Final" 

                                        style="width: 200px;"
                                        >
                                <h:outputText value="#{itemLgt.liquidacionconsolidado.fechafLiquidaconso}" styleClass="textcolumncenter letraOutput">
                                    <f:convertDateTime pattern="yyyy/MM/dd" />
                                </h:outputText>

                            </ace:column>




                        </ace:dataTable>
                    </td>
                </tr>
            </table>

        </ace:panel>
    </ui:insert>    
</html>
